@@include('./header.html', {
    title: 'Registrate como donante'
})

<main class="bg2">
    <section class="form-right">
        <header class="logos">
            @@include('./logo.html')
        </header>
        <aside>
            @@include('./back-to-home.html')

            <h3 class="text-center fs-4 fw-bold">¡Registrate como donante!</h3>
            <h4 class="text-center fs-5 fw-normal mb-4">Por favor completá la siguiente información:</h4>

            <form action="">
                <select class="form-select" id="tipoDonante">
                    <option selected>Seleccionar tipo de donante...</option>
                    <option value="particular">Particular</option>
                    <option value="laboratorio">Laboratorio Farmacéutico</option>
                    <option value="profesional">Profesional de la salud</option>
                    <option value="empresa">Empresa / ONG / Otro</option>
                </select>

                <fieldset id="particular">
                    <input type="text" class="form-control" placeholder="Nombre" required>
                    <input type="text" class="form-control" placeholder="Apellido" required>
                    <input type="email" class="form-control" placeholder="Correo electrónico" required>
                    <input type="text" class="form-control" placeholder="Teléfono (con código de área)" required>
                    <input type="text" class="form-control" placeholder="Dirección" required>
                    <textarea class="form-control" placeholder="¿Qué medicamentos o insumos biométricos querés donar?" required></textarea>
                    <select class="form-select" aria-label="Centros de recepción">
                        <option value="" selected>Centro de recepción</option>
                        <option value="1">Centro 1</option>
                        <option value="2">Centro 2</option>
                    </select>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" >
                        <label class="form-check-label" for="flexCheckChecked">
                            No lo puedo entregar en ninguno de estos centros de recepción
                        </label>
                    </div>
                    <select class="form-select" aria-label="Volumen de la donación" required>
                        <option value="" selected>¿Qué volumen tiene tu donación?</option>
                        <option value="1">Vol 1</option>
                        <option value="2">Vol 2</option>
                    </select>
                </fieldset>

                <fieldset id="laboratorio">
                    <input type="text" class="form-control" placeholder="Nombre de la organización" required>
                    <input type="text" class="form-control" placeholder="Nombre del contacto" required>
                    <input type="text" class="form-control" placeholder="Apellido del contacto" required>
                    <input type="text" class="form-control" placeholder="Cargo que ocupa" required>
                    <input type="email" class="form-control" placeholder="Correo electrónico" required>
                    <input type="text" class="form-control" placeholder="Teléfono (con código de área)" required>
                    <input type="text" class="form-control" placeholder="Dirección" required>
                    <textarea class="form-control" placeholder="¿Qué medicamentos o insumos biométricos querés donar?"
                        required></textarea>
                    <select class="form-select" aria-label="Centros de recepción">
                        <option value="" selected>Centro de recepción</option>
                        <option value="1">Centro 1</option>
                        <option value="2">Centro 2</option>
                    </select>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="">
                        <label class="form-check-label" for="flexCheckChecked">
                            No lo puedo entregar en ninguno de estos centros de recepción
                        </label>
                    </div>
                    <select class="form-select" aria-label="Volumen de la donación" required>
                        <option value="" selected>¿Qué volumen tiene tu donación?</option>
                        <option value="1">Vol 1</option>
                        <option value="2">Vol 2</option>
                    </select>
                </fieldset>

                <fieldset id="profesional">
                    <input type="text" class="form-control" placeholder="Nombre" required>
                    <input type="text" class="form-control" placeholder="Apellido" required>
                    <input type="text" class="form-control" placeholder="Especialidad" required>
                    <input type="email" class="form-control" placeholder="Correo electrónico" required>
                    <input type="text" class="form-control" placeholder="Teléfono (con código de área)" required>
                    <input type="text" class="form-control" placeholder="Dirección" required>
                    <textarea class="form-control" placeholder="¿Qué medicamentos o insumos biométricos querés donar?"
                        required></textarea>
                    <select class="form-select" aria-label="Centros de recepción">
                        <option value="" selected>Centro de recepción</option>
                        <option value="1">Centro 1</option>
                        <option value="2">Centro 2</option>
                    </select>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="">
                        <label class="form-check-label" for="flexCheckChecked">
                            No lo puedo entregar en ninguno de estos centros de recepción
                        </label>
                    </div>
                    <select class="form-select" aria-label="Volumen de la donación" required>
                        <option value="" selected>¿Qué volumen tiene tu donación?</option>
                        <option value="1">Vol 1</option>
                        <option value="2">Vol 2</option>
                    </select>
                </fieldset>

                <fieldset id="empresa">
                    <input type="text" class="form-control" placeholder="Nombre" required>
                    <input type="text" class="form-control" placeholder="Apellido" required>
                    <input type="text" class="form-control" placeholder="Especialidad" required>
                    <input type="email" class="form-control" placeholder="Correo electrónico" required>
                    <input type="text" class="form-control" placeholder="Teléfono (con código de área)" required>
                    <input type="text" class="form-control" placeholder="Dirección" required>
                    <textarea class="form-control" placeholder="¿Qué quiere donar?"
                        required></textarea>
                    <select class="form-select" aria-label="Centros de recepción">
                        <option value="" selected>Centro de recepción</option>
                        <option value="1">Centro 1</option>
                        <option value="2">Centro 2</option>
                    </select>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="">
                        <label class="form-check-label" for="flexCheckChecked">
                            No lo puedo entregar en ninguno de estos centros de recepción
                        </label>
                    </div>
                    <select class="form-select" aria-label="Volumen de la donación" required>
                        <option value="" selected>¿Qué volumen tiene tu donación?</option>
                        <option value="1">Vol 1</option>
                        <option value="2">Vol 2</option>
                    </select>
                </fieldset>

                <footer>
                    @@include('./box.html',
                        {
                            box_class: 'box-info', 
                            bi_icon: 'bi-exclamation-circle-fill',
                            title: 'Importante',
                            description: 'Por favor, te pedimos que rotules tu donación indicando nombre y apellido o nombre de la institución.'
                        }
                    )                   
                    
                    <div class="buttons pt-3 d-grid gap-2 mx-auto">                
                        <a href="gracias.html?m=donacion" id="btn-submit" class="btn btn-violeta">Enviar formulario <i class="bi bi-check"></i></a>
                        <!-- Debe reemplazarse por un button.submit -->
                    </div>

                </footer>
            </form>
        </aside>
    </section>
</main>

<script>
    // --------------------------------
    // script para simular el cambio de formulario
    // --------------------------------
    hideAllFields();
    let s = document.getElementById("tipoDonante");
    s.addEventListener('change' , (ev)=>{ hideAllFields(); showFieldset(ev.target.value)});

    function hideAllFields(){
        document.querySelectorAll("form fieldset").forEach(i => { i.style = "display:none"})
        document.querySelector("form > footer").style = "display:none;"
    }
    function showFieldset(n){
        try {
            document.getElementById(n).style = "display: block";
            document.querySelector("form > footer").style = "display:block;"
        } catch (error) {
            console.log("no se encontró el fieldset " + n);
        }
    }



    // -------------------------- 
    // modificar la url de envio según la opción seleccionada. Solo para desarrollo. 
    // -------------------------- 
    
    let btnSubmit = document.getElementById("btn-submit");
    btnSubmit.addEventListener("click", ev=>{
        ev.preventDefault();
        const option = document.getElementById('tipoDonante');
        window.location.href = option.value=='laboratorio' ? 'gracias.html?m=donacion-laboratorio' : 'gracias.html?m=donacion'

    })
</script>

@@include('./footer.html')